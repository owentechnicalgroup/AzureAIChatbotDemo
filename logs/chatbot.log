{"timestamp": "2025-07-23T14:23:59.012965+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:23:59.012895+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:23:59.012909Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:23:59.014761+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:23:59.014709+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:23:59.014720Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:27:20.324952+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:27:20.324856+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:27:20.324875Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:27:20.326916+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:27:20.326871+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:27:20.326880Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:32:47.811656+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:32:47.811553+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:32:47.811573Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:32:47.813769+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:32:47.813728+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:32:47.813737Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:40:52.692624+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:40:52.692511+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:40:52.692533Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:40:52.695704+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:40:52.695665+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:40:52.695673Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:44:29.458211+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:44:29.458105+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:44:29.458130Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:44:29.458925+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:44:29.458866+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:44:29.458876Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:45:20.628562+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:45:20.628479+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:45:20.628490Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:45:20.628997+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:45:20.628970+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:45:20.628973Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:48:35.909122+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:48:35.909003+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:48:35.909027Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:48:35.910038+00:00", "level": "ERROR", "logger": "__main__", "message": "{\"error\": \"Application initialization failed\", \"event\": \"Failed to initialize CLI\", \"@timestamp\": \"2025-07-23T14:48:35.909943+00:00\", \"level\": \"error\", \"logger\": \"__main__\", \"timestamp\": \"2025-07-23T14:48:35.909971Z\"}", "module": "main", "function": "cli", "line": 119}
{"timestamp": "2025-07-23T14:49:24.515733+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:49:24.515676+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:49:24.515688Z\"}", "module": "logging_service", "function": "setup_logging", "line": 291}
{"timestamp": "2025-07-23T14:50:34.187333+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:50:34.187224+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:50:34.187244Z\"}", "module": "logging_service", "function": "setup_logging", "line": 292}
{"timestamp": "2025-07-23T14:51:43.717066+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T14:51:43.716966+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T14:51:43.716985Z\"}", "module": "logging_service", "function": "setup_logging", "line": 292}
2025-07-23 10:52:45,410 - services.logging_service - INFO - {"level": "info", "format": "json", "file_path": "logs/chatbot.log", "handlers": 3, "application_insights_enabled": true, "event": "Logging configured", "@timestamp": "2025-07-23T14:52:45.410224+00:00", "logger": "services.logging_service", "timestamp": "2025-07-23T14:52:45.410234Z"}
2025-07-23 10:53:23,657 - services.logging_service - INFO - {"level": "info", "format": "json", "file_path": "logs/chatbot.log", "handlers": 2, "application_insights_enabled": true, "event": "Logging configured", "@timestamp": "2025-07-23T14:53:23.657356+00:00", "logger": "services.logging_service", "timestamp": "2025-07-23T14:53:23.657380Z"}
2025-07-23 10:53:56,941 - services.logging_service - INFO - {"level": "info", "format": "json", "file_path": "logs/chatbot.log", "handlers": 2, "application_insights_enabled": true, "event": "Logging configured", "@timestamp": "2025-07-23T14:53:56.941352+00:00", "logger": "services.logging_service", "timestamp": "2025-07-23T14:53:56.941367Z"}
2025-07-23 10:53:57,358 - services.azure_client - DEBUG - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "event": "LangChain Azure OpenAI client created successfully", "@timestamp": "2025-07-23T14:53:57.358307+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "debug", "logger": "services.azure_client", "timestamp": "2025-07-23T14:53:57.358321Z"}
2025-07-23 10:53:57,358 - services.azure_client - INFO - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "endpoint": "https://aoai-chatbotdev4e4334a6.openai.azure.com/", "api_version": "2024-05-01-preview", "event": "Azure OpenAI client initialized", "@timestamp": "2025-07-23T14:53:57.358483+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "info", "logger": "services.azure_client", "timestamp": "2025-07-23T14:53:57.358488Z"}
2025-07-23 10:53:57,358 - chatbot.conversation - INFO - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "max_turns": 10, "event": "Conversation manager initialized", "@timestamp": "2025-07-23T14:53:57.358618+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "info", "logger": "chatbot.conversation", "timestamp": "2025-07-23T14:53:57.358621Z"}
2025-07-23 10:53:57,358 - chatbot.agent - INFO - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "event": "Chatbot agent initialized successfully", "@timestamp": "2025-07-23T14:53:57.358687+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "info", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:53:57.358691Z"}
2025-07-23 10:53:57,358 - chatbot.conversation - DEBUG - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "message_id": "07c614ba-6bce-4052-8761-4b3a69f4bbe0", "role": "system", "content_length": 76, "token_count": null, "event": "Message added to conversation", "@timestamp": "2025-07-23T14:53:57.358774+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "debug", "logger": "chatbot.conversation", "timestamp": "2025-07-23T14:53:57.358777Z"}
2025-07-23 10:53:57,358 - chatbot.agent - INFO - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "prompt_type": "default", "system_prompt_length": 76, "event": "Chatbot agent ready", "@timestamp": "2025-07-23T14:53:57.358838+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "info", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:53:57.358840Z"}
2025-07-23 10:53:57,362 - chatbot.agent - ERROR - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "error": "'charmap' codec can't encode character '\\u274c' in position 0: character maps to <undefined>", "event": "Fatal error in interactive session", "@timestamp": "2025-07-23T14:53:57.362427+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "error", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:53:57.362435Z"}
2025-07-23 10:53:57,362 - utils.error_handlers - ERROR - {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "original_error_type": "UnicodeEncodeError", "original_error": "'charmap' codec can't encode character '\\u274c' in position 0: character maps to <undefined>", "converted_error_type": "ValidationError", "error_code": "VALIDATION_ERROR", "context": {"field": null, "value": null, "expected_type": null}, "event": "Error handled and converted", "@timestamp": "2025-07-23T14:53:57.362919+00:00", "customDimensions": {"conversation_id": "385b10d6-6124-4a4f-8e3b-1242e7fe1abf"}, "level": "error", "logger": "utils.error_handlers", "timestamp": "2025-07-23T14:53:57.362925Z"}
2025-07-23 10:54:38,579 - services.logging_service - INFO - {"level": "info", "format": "json", "file_path": "logs/chatbot.log", "handlers": 2, "application_insights_enabled": true, "event": "Logging configured", "@timestamp": "2025-07-23T14:54:38.579900+00:00", "logger": "services.logging_service", "timestamp": "2025-07-23T14:54:38.579914Z"}
2025-07-23 10:54:39,018 - services.azure_client - DEBUG - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "event": "LangChain Azure OpenAI client created successfully", "@timestamp": "2025-07-23T14:54:39.018800+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "debug", "logger": "services.azure_client", "timestamp": "2025-07-23T14:54:39.018816Z"}
2025-07-23 10:54:39,019 - services.azure_client - INFO - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "endpoint": "https://aoai-chatbotdev4e4334a6.openai.azure.com/", "api_version": "2024-05-01-preview", "event": "Azure OpenAI client initialized", "@timestamp": "2025-07-23T14:54:39.018993+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "info", "logger": "services.azure_client", "timestamp": "2025-07-23T14:54:39.018998Z"}
2025-07-23 10:54:39,019 - chatbot.conversation - INFO - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "max_turns": 10, "event": "Conversation manager initialized", "@timestamp": "2025-07-23T14:54:39.019135+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "info", "logger": "chatbot.conversation", "timestamp": "2025-07-23T14:54:39.019139Z"}
2025-07-23 10:54:39,019 - chatbot.agent - INFO - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "event": "Chatbot agent initialized successfully", "@timestamp": "2025-07-23T14:54:39.019211+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "info", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:54:39.019214Z"}
2025-07-23 10:54:39,019 - chatbot.conversation - DEBUG - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "message_id": "a8de04eb-4306-4d0a-98bb-ea60b6787c88", "role": "system", "content_length": 76, "token_count": null, "event": "Message added to conversation", "@timestamp": "2025-07-23T14:54:39.019306+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "debug", "logger": "chatbot.conversation", "timestamp": "2025-07-23T14:54:39.019309Z"}
2025-07-23 10:54:39,019 - chatbot.agent - INFO - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "prompt_type": "default", "system_prompt_length": 76, "event": "Chatbot agent ready", "@timestamp": "2025-07-23T14:54:39.019412+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "info", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:54:39.019416Z"}
2025-07-23 10:54:39,023 - chatbot.agent - ERROR - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "error": "'charmap' codec can't encode character '\\u274c' in position 0: character maps to <undefined>", "event": "Fatal error in interactive session", "@timestamp": "2025-07-23T14:54:39.022968+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "error", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:54:39.022976Z"}
2025-07-23 10:54:39,023 - utils.error_handlers - ERROR - {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "original_error_type": "UnicodeEncodeError", "original_error": "'charmap' codec can't encode character '\\u274c' in position 0: character maps to <undefined>", "converted_error_type": "ValidationError", "error_code": "VALIDATION_ERROR", "context": {"field": null, "value": null, "expected_type": null}, "event": "Error handled and converted", "@timestamp": "2025-07-23T14:54:39.023466+00:00", "customDimensions": {"conversation_id": "2ce3369a-bdfc-400a-9fc3-eb24b15f9f5f"}, "level": "error", "logger": "utils.error_handlers", "timestamp": "2025-07-23T14:54:39.023472Z"}
2025-07-23 10:55:12,671 - services.logging_service - INFO - {"level": "info", "format": "json", "file_path": "logs/chatbot.log", "handlers": 2, "application_insights_enabled": true, "event": "Logging configured", "@timestamp": "2025-07-23T14:55:12.671081+00:00", "logger": "services.logging_service", "timestamp": "2025-07-23T14:55:12.671097Z"}
2025-07-23 10:55:13,099 - services.azure_client - DEBUG - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "event": "LangChain Azure OpenAI client created successfully", "@timestamp": "2025-07-23T14:55:13.099870+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "debug", "logger": "services.azure_client", "timestamp": "2025-07-23T14:55:13.099884Z"}
2025-07-23 10:55:13,100 - services.azure_client - INFO - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "endpoint": "https://aoai-chatbotdev4e4334a6.openai.azure.com/", "api_version": "2024-05-01-preview", "event": "Azure OpenAI client initialized", "@timestamp": "2025-07-23T14:55:13.100057+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "info", "logger": "services.azure_client", "timestamp": "2025-07-23T14:55:13.100061Z"}
2025-07-23 10:55:13,100 - chatbot.conversation - INFO - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "max_turns": 10, "event": "Conversation manager initialized", "@timestamp": "2025-07-23T14:55:13.100186+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "info", "logger": "chatbot.conversation", "timestamp": "2025-07-23T14:55:13.100189Z"}
2025-07-23 10:55:13,100 - chatbot.agent - INFO - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "event": "Chatbot agent initialized successfully", "@timestamp": "2025-07-23T14:55:13.100254+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "info", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:55:13.100257Z"}
2025-07-23 10:55:13,100 - chatbot.conversation - DEBUG - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "message_id": "d4c6f63a-5fe8-4cb5-a250-2202db52397a", "role": "system", "content_length": 76, "token_count": null, "event": "Message added to conversation", "@timestamp": "2025-07-23T14:55:13.100382+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "debug", "logger": "chatbot.conversation", "timestamp": "2025-07-23T14:55:13.100385Z"}
2025-07-23 10:55:13,100 - chatbot.agent - INFO - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "prompt_type": "default", "system_prompt_length": 76, "event": "Chatbot agent ready", "@timestamp": "2025-07-23T14:55:13.100448+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "info", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:55:13.100451Z"}
2025-07-23 10:55:13,104 - chatbot.agent - ERROR - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "error": "EOF when reading a line", "event": "Interactive session error", "@timestamp": "2025-07-23T14:55:13.104186+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "error", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:55:13.104196Z"}
2025-07-23 10:55:13,104 - chatbot.agent - ERROR - {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce", "component": "azure_openai_client", "deployment": "gpt-4-deployment", "memory_type": "buffer_window", "error": "EOF when reading a line", "event": "Fatal error in interactive session", "@timestamp": "2025-07-23T14:55:13.104553+00:00", "customDimensions": {"conversation_id": "d7a069ca-63a1-4a47-8299-fc486cfe09ce"}, "level": "error", "logger": "chatbot.agent", "timestamp": "2025-07-23T14:55:13.104558Z"}
{"timestamp": "2025-07-23T15:00:14.621089+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T15:00:14.621007+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T15:00:14.621023Z\"}", "module": "logging_service", "function": "setup_logging", "line": 296}
{"timestamp": "2025-07-23T15:00:15.077797+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T15:00:15.077736+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T15:00:15.077750Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T15:00:15.078111+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T15:00:15.078061+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T15:00:15.078067Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T15:00:15.078497+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T15:00:15.078461+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T15:00:15.078466Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T15:00:15.078604+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T15:00:15.078582+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T15:00:15.078585Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T15:00:15.078885+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"44ac2828-8fc0-46c7-96bf-8784564f7e06\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T15:00:15.078850+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T15:00:15.078857Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T15:00:15.079002+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T15:00:15.078978+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T15:00:15.078982Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T15:00:15.080021+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T15:00:15.080596+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T15:00:15.081023+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"message_length\": 12, \"message_id\": \"4618708d-3506-4da9-b7c2-c3be27d78ca7\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T15:00:15.080988+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T15:00:15.080994Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T15:00:15.081236+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"message_id\": \"2c63e374-ef2c-4f89-881b-a551a6949068\", \"role\": \"user\", \"content_length\": 12, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T15:00:15.081208+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T15:00:15.081211Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T15:00:15.081345+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"message_count\": 2, \"total_length\": 88, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T15:00:15.081322+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T15:00:15.081325Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 406}
{"timestamp": "2025-07-23T15:00:15.081439+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T15:00:15.081420+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T15:00:15.081423Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 425}
{"timestamp": "2025-07-23T15:00:15.081609+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T15:00:15.081580+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T15:00:15.081584Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T15:00:15.086795+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.264741+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E27B8642F0>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.264923+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E27B3E7410> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.475340+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E27B763250>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.475783+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.476622+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.476806+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.477264+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:15.477413+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:16.149168+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1043'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'4a26b055-0a7b-4fdc-bece-919842fd92ab'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9976'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd019-20250625125428'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'1d901059-609f-4afb-8471-990db4399f4a'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 15:00:15 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:16.149854+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:16.150023+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:16.150162+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:16.150290+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T15:00:16.156411+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"response_time\": 1.0747978687286377, \"token_usage\": {\"prompt_tokens\": 31, \"completion_tokens\": 8, \"total_tokens\": 39}, \"finish_reason\": \"stop\", \"content_length\": 9, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T15:00:16.156364+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"customMeasurements\": {\"response_time\": 1.0747978687286377, \"tokens_prompt_tokens\": 31, \"tokens_completion_tokens\": 8, \"tokens_total_tokens\": 39}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T15:00:16.156374Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T15:00:16.156638+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"message_id\": \"f5182d8e-819f-44e4-a4a7-c36d65dd03ba\", \"role\": \"assistant\", \"content_length\": 9, \"token_count\": 8, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T15:00:16.156610+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T15:00:16.156614Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T15:00:16.156762+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 1.0757668018341064, \"success\": true, \"message_count\": 1, \"average_response_time\": 1.0757668018341064, \"conversation_duration\": 1.07774019241333, \"prompt_tokens\": 31, \"completion_tokens\": 8, \"total_tokens\": 39, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T15:00:16.156738+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T15:00:16.156741Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 396}
{"timestamp": "2025-07-23T15:00:16.156889+00:00", "level": "ERROR", "logger": "utils.error_handlers", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"event_type\": \"conversation\", \"original_error_type\": \"TypeError\", \"original_error\": \"BoundLogger.info() got multiple values for argument 'event'\", \"converted_error_type\": \"ChatbotBaseError\", \"error_code\": \"GENERIC_ERROR\", \"context\": {\"user_message_length\": 12, \"processing_time\": 1.0758938789367676, \"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"event\": \"Error handled and converted\", \"@timestamp\": \"2025-07-23T15:00:16.156862+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"error\", \"logger\": \"utils.error_handlers\", \"timestamp\": \"2025-07-23T15:00:16.156864Z\"}", "module": "error_handlers", "function": "handle_error", "line": 425}
{"timestamp": "2025-07-23T15:00:16.156991+00:00", "level": "ERROR", "logger": "services.logging_service", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"event_type\": \"conversation\", \"exception\": \"BoundLogger.error() got multiple values for argument 'event'\", \"exception_type\": \"TypeError\", \"event\": \"Conversation context error\", \"@timestamp\": \"2025-07-23T15:00:16.156970+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"error\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T15:00:16.156973Z\"}", "module": "logging_service", "function": "__exit__", "line": 466}
{"timestamp": "2025-07-23T15:00:16.158105+00:00", "level": "ERROR", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6bdb532f-5af9-49a6-9a76-e56db91dbb01\", \"event_type\": \"conversation\", \"error\": \"BoundLogger.error() got multiple values for argument 'event'\", \"user_message_length\": 12, \"event\": \"Error in synchronous message processing\", \"@timestamp\": \"2025-07-23T15:00:16.158062+00:00\", \"customDimensions\": {\"conversation_id\": \"274412e5-b63a-432d-a634-48bd428b40c6\"}, \"level\": \"error\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T15:00:16.158071Z\"}", "module": "agent", "function": "process_message", "line": 302}
{"timestamp": "2025-07-23T16:03:46.578403+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T16:03:46.578332+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:03:46.578345Z\"}", "module": "logging_service", "function": "setup_logging", "line": 296}
{"timestamp": "2025-07-23T16:03:49.301042+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T16:03:49.300980+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:03:49.300993Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T16:03:49.301362+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T16:03:49.301330+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:03:49.301335Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T16:03:49.301739+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T16:03:49.301696+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:03:49.301700Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T16:03:49.301930+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T16:03:49.301894+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:03:49.301897Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T16:03:49.302142+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"ecfd64bb-9551-4b07-be11-ebddd4ddfff7\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:03:49.302115+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:03:49.302119Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:03:49.302357+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T16:03:49.302330+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:03:49.302334Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T16:03:49.313059+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T16:03:49.327725+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T16:03:49.343798+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"message_length\": 12, \"message_id\": \"7dcd4a18-c547-475d-af95-7db57ca701d0\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T16:03:49.343731+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:03:49.343744Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T16:03:49.344051+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"message_id\": \"1817efa4-d45f-48af-99b2-677de8de8bdd\", \"role\": \"user\", \"content_length\": 12, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:03:49.344012+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:03:49.344016Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:03:49.344185+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"message_count\": 2, \"total_length\": 88, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T16:03:49.344154+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:03:49.344158Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 406}
{"timestamp": "2025-07-23T16:03:49.344358+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T16:03:49.344314+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:03:49.344318Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 425}
{"timestamp": "2025-07-23T16:03:49.344528+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T16:03:49.344503+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:03:49.344507Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T16:03:49.369788+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.543330+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001FCC45701A0>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.543635+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FCC40E72F0> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.749974+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001FCC4463610>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.750445+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.751030+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.751208+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.751550+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:00.751703+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:01.111661+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1043'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'3140cbde-6483-481d-9774-68641b6f2d3b'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9976'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd022-20250625134047'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'89c37521-4937-4ee3-993b-50b4f61e09ae'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 16:04:00 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:01.112274+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:01.112445+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:01.112572+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:01.112691+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:04:01.121150+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"response_time\": 11.776611328125, \"token_usage\": {\"prompt_tokens\": 31, \"completion_tokens\": 8, \"total_tokens\": 39}, \"finish_reason\": \"stop\", \"content_length\": 9, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T16:04:01.121099+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"customMeasurements\": {\"response_time\": 11.776611328125, \"tokens_prompt_tokens\": 31, \"tokens_completion_tokens\": 8, \"tokens_total_tokens\": 39}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:04:01.121111Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T16:04:01.121400+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"message_id\": \"2d86bf63-bc84-4c59-9c01-1c4e027a5080\", \"role\": \"assistant\", \"content_length\": 9, \"token_count\": 8, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:04:01.121373+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:04:01.121377Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:04:01.121529+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 11.77782654762268, \"success\": true, \"message_count\": 1, \"average_response_time\": 11.77782654762268, \"conversation_duration\": 11.819151639938354, \"prompt_tokens\": 31, \"completion_tokens\": 8, \"total_tokens\": 39, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T16:04:01.121503+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:04:01.121507Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 396}
{"timestamp": "2025-07-23T16:04:01.121702+00:00", "level": "ERROR", "logger": "utils.error_handlers", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"event_type\": \"conversation\", \"original_error_type\": \"TypeError\", \"original_error\": \"BoundLogger.info() got multiple values for argument 'event'\", \"converted_error_type\": \"ChatbotBaseError\", \"error_code\": \"GENERIC_ERROR\", \"context\": {\"user_message_length\": 12, \"processing_time\": 11.77800178527832, \"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"event\": \"Error handled and converted\", \"@timestamp\": \"2025-07-23T16:04:01.121675+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"error\", \"logger\": \"utils.error_handlers\", \"timestamp\": \"2025-07-23T16:04:01.121678Z\"}", "module": "error_handlers", "function": "handle_error", "line": 425}
{"timestamp": "2025-07-23T16:04:01.121796+00:00", "level": "ERROR", "logger": "services.logging_service", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"event_type\": \"conversation\", \"exception\": \"BoundLogger.error() got multiple values for argument 'event'\", \"exception_type\": \"TypeError\", \"event\": \"Conversation context error\", \"@timestamp\": \"2025-07-23T16:04:01.121776+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"error\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:04:01.121779Z\"}", "module": "logging_service", "function": "__exit__", "line": 466}
{"timestamp": "2025-07-23T16:04:01.122874+00:00", "level": "ERROR", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4cc6bf88-083b-4890-97e8-55d749fd31c2\", \"event_type\": \"conversation\", \"error\": \"BoundLogger.error() got multiple values for argument 'event'\", \"user_message_length\": 12, \"event\": \"Error in synchronous message processing\", \"@timestamp\": \"2025-07-23T16:04:01.122838+00:00\", \"customDimensions\": {\"conversation_id\": \"b0e36392-d146-415c-b8b6-d85f2352eca8\"}, \"level\": \"error\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:04:01.122845Z\"}", "module": "agent", "function": "process_message", "line": 302}
{"timestamp": "2025-07-23T16:49:20.489294+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T16:49:20.489234+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:49:20.489246Z\"}", "module": "logging_service", "function": "setup_logging", "line": 296}
{"timestamp": "2025-07-23T16:49:24.413109+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T16:49:24.413048+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:49:24.413061Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T16:49:24.413862+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T16:49:24.413819+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:49:24.413827Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T16:49:24.414323+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T16:49:24.414284+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:49:24.414290Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T16:49:24.414740+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T16:49:24.414703+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:49:24.414710Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T16:49:24.415140+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"ed0c5258-dbdd-46c3-91c7-90eb13cda20f\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:49:24.415105+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:49:24.415111Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:49:24.415662+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T16:49:24.415627+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:49:24.415634Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T16:49:43.049073+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T16:49:43.050269+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T16:49:43.051287+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"message_length\": 49, \"message_id\": \"db08113e-7a93-4fc9-9f3e-fe716f84f3aa\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T16:49:43.051224+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:49:43.051237Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T16:49:43.051838+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"message_id\": \"ce320b9b-9215-4899-8f2c-90bceb97199f\", \"role\": \"user\", \"content_length\": 49, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:49:43.051778+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:49:43.051787Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:49:43.052265+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"message_count\": 2, \"total_length\": 125, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T16:49:43.052201+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:49:43.052214Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 406}
{"timestamp": "2025-07-23T16:49:43.052595+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T16:49:43.052536+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:49:43.052549Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 425}
{"timestamp": "2025-07-23T16:49:43.053173+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T16:49:43.053112+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:49:43.053124Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T16:49:43.081179+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.252234+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023B2A086F90>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.252868+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023B29E0E9F0> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.449048+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023B29FB25D0>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.449526+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.450052+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.450347+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.450852+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:49:54.451178+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:50:00.778647+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'2413'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'48587f0b-6fed-42bd-baa0-f95bc39a5a86'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd022-20250625134047'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'0ff86048-bfcf-47c7-b0ee-ed612c3a65e8'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 16:50:00 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:50:00.779789+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:50:00.780404+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:50:00.780851+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:50:00.781199+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T16:50:00.786201+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"response_time\": 17.733094215393066, \"token_usage\": {\"prompt_tokens\": 37, \"completion_tokens\": 301, \"total_tokens\": 338}, \"finish_reason\": \"stop\", \"content_length\": 1359, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T16:50:00.786155+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"customMeasurements\": {\"response_time\": 17.733094215393066, \"tokens_prompt_tokens\": 37, \"tokens_completion_tokens\": 301, \"tokens_total_tokens\": 338}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T16:50:00.786165Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T16:50:00.786733+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"message_id\": \"6c2a9510-b0ca-4804-a96a-f720402bd614\", \"role\": \"assistant\", \"content_length\": 1359, \"token_count\": 301, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:50:00.786694+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:50:00.786700Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:50:00.786978+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 17.735759496688843, \"success\": true, \"message_count\": 1, \"average_response_time\": 17.735759496688843, \"conversation_duration\": 36.371288776397705, \"prompt_tokens\": 37, \"completion_tokens\": 301, \"total_tokens\": 338, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T16:50:00.786943+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:50:00.786950Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 396}
{"timestamp": "2025-07-23T16:50:00.787339+00:00", "level": "ERROR", "logger": "utils.error_handlers", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"original_error_type\": \"TypeError\", \"original_error\": \"BoundLogger.info() got multiple values for argument 'event'\", \"converted_error_type\": \"ChatbotBaseError\", \"error_code\": \"GENERIC_ERROR\", \"context\": {\"user_message_length\": 49, \"processing_time\": 17.736063718795776, \"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"event\": \"Error handled and converted\", \"@timestamp\": \"2025-07-23T16:50:00.787300+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"error\", \"logger\": \"utils.error_handlers\", \"timestamp\": \"2025-07-23T16:50:00.787307Z\"}", "module": "error_handlers", "function": "handle_error", "line": 425}
{"timestamp": "2025-07-23T16:50:00.787516+00:00", "level": "ERROR", "logger": "services.logging_service", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"exception\": \"BoundLogger.error() got multiple values for argument 'event'\", \"exception_type\": \"TypeError\", \"event\": \"Conversation context error\", \"@timestamp\": \"2025-07-23T16:50:00.787491+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"error\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T16:50:00.787495Z\"}", "module": "logging_service", "function": "__exit__", "line": 466}
{"timestamp": "2025-07-23T16:50:00.788591+00:00", "level": "ERROR", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"error\": \"BoundLogger.error() got multiple values for argument 'event'\", \"user_message_length\": 49, \"event\": \"Error in synchronous message processing\", \"@timestamp\": \"2025-07-23T16:50:00.788543+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"error\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:50:00.788551Z\"}", "module": "agent", "function": "process_message", "line": 302}
{"timestamp": "2025-07-23T16:51:04.361110+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"event\": \"Conversation memory cleared\", \"@timestamp\": \"2025-07-23T16:51:04.361044+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:51:04.361057Z\"}", "module": "conversation", "function": "clear_memory", "line": 344}
{"timestamp": "2025-07-23T16:51:04.361359+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"message_id\": \"7e3fb784-7354-4188-8221-ce444b054cee\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T16:51:04.361328+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T16:51:04.361334Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T16:51:04.361504+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"event\": \"Conversation cleared and system prompt reinitialized\", \"@timestamp\": \"2025-07-23T16:51:04.361483+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:51:04.361486Z\"}", "module": "agent", "function": "clear_conversation", "line": 771}
{"timestamp": "2025-07-23T16:51:18.366441+00:00", "level": "ERROR", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"6b13a19d-0d1d-4db5-bced-4d1c3e1fb81f\", \"event_type\": \"conversation\", \"error\": \"There is no current event loop in thread 'MainThread'.\", \"user_message_length\": 39, \"event\": \"Error in synchronous message processing\", \"@timestamp\": \"2025-07-23T16:51:18.366325+00:00\", \"customDimensions\": {\"conversation_id\": \"ce9655e5-b8ee-49a8-9cc1-05baffe04322\"}, \"level\": \"error\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T16:51:18.366353Z\"}", "module": "agent", "function": "process_message", "line": 302}
{"timestamp": "2025-07-23T17:16:55.217422+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T17:16:55.217374+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:16:55.217383Z\"}", "module": "logging_service", "function": "setup_logging", "line": 296}
{"timestamp": "2025-07-23T17:16:55.623535+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T17:16:55.623478+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:16:55.623492Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T17:16:55.624181+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T17:16:55.624113+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:16:55.624124Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T17:16:55.624674+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T17:16:55.624636+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:16:55.624643Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T17:16:55.624960+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T17:16:55.624921+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:16:55.624928Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T17:16:55.625498+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"f97c3288-b554-428f-b6b8-39b72c233539\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:16:55.625458+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:16:55.625464Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:16:55.625935+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T17:16:55.625902+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:16:55.625908Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T17:17:06.006903+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T17:17:06.008001+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"message_length\": 49, \"message_id\": \"98176598-b729-4fb8-8226-4109eb8e74e4\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T17:17:06.007957+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:06.007966Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T17:17:06.008359+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"message_id\": \"eff8eeaf-a121-4f15-a272-be9e0e28cec2\", \"role\": \"user\", \"content_length\": 49, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:17:06.008326+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:17:06.008331Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:17:06.008717+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"message_count\": 2, \"total_length\": 125, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T17:17:06.008680+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:17:06.008687Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T17:17:06.009031+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:17:06.008991+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:17:06.008998Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T17:17:06.009319+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:17:06.009291+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:17:06.009295Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T17:17:06.016576+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.276314+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE136EE40>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.277035+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020CE10DEA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.718285+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE129E210>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.719001+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.719483+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.719809+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.720145+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:17.720572+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:20.583658+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'2198'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'599c5f55-643b-4269-83f0-8fe8399b5b60'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9967'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd030-20250625154533'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'c8649918-432a-433e-b1ab-4f4b6f13f692'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 17:17:19 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:20.584929+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:20.585442+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:20.585925+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:20.586363+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:20.629332+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"response_time\": 14.620001077651978, \"token_usage\": {\"prompt_tokens\": 37, \"completion_tokens\": 252, \"total_tokens\": 289}, \"finish_reason\": \"stop\", \"content_length\": 1151, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T17:17:20.629272+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 14.620001077651978, \"tokens_prompt_tokens\": 37, \"tokens_completion_tokens\": 252, \"tokens_total_tokens\": 289}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:17:20.629285Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T17:17:20.629746+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"message_id\": \"05119160-98d2-4b00-900a-7aad21579816\", \"role\": \"assistant\", \"content_length\": 1151, \"token_count\": 252, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:17:20.629708+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:17:20.629713Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:17:20.630016+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 14.622052431106567, \"success\": true, \"message_count\": 1, \"average_response_time\": 14.622052431106567, \"conversation_duration\": 25.004050970077515, \"prompt_tokens\": 37, \"completion_tokens\": 252, \"total_tokens\": 289, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T17:17:20.629975+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:20.629982Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 400}
{"timestamp": "2025-07-23T17:17:20.630472+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"event_type\": \"conversation\", \"user_message_length\": 49, \"assistant_response_length\": 1151, \"token_usage\": {\"prompt_tokens\": 37, \"completion_tokens\": 252, \"total_tokens\": 289}, \"response_time\": 14.622052431106567, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T17:17:20.630434+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 14.622052431106567, \"tokens_prompt_tokens\": 37, \"tokens_completion_tokens\": 252, \"tokens_total_tokens\": 289}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:20.630442Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 378}
{"timestamp": "2025-07-23T17:17:20.630837+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"bd082185-426f-4963-b9f8-9b0dff44657b\", \"event_type\": \"conversation\", \"response_time\": 14.622052431106567, \"response_length\": 1151, \"token_usage\": {\"prompt_tokens\": 37, \"completion_tokens\": 252, \"total_tokens\": 289}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T17:17:20.630794+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 14.622052431106567, \"tokens_prompt_tokens\": 37, \"tokens_completion_tokens\": 252, \"tokens_total_tokens\": 289}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:20.630799Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T17:17:45.708674+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T17:17:45.709608+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"message_length\": 44, \"message_id\": \"cade5a5a-d8bf-4629-91bb-79a75599691a\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T17:17:45.709564+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:45.709573Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T17:17:45.709953+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"message_id\": \"1aee408b-54b9-46df-bf36-31994f133cb0\", \"role\": \"user\", \"content_length\": 44, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:17:45.709914+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:17:45.709919Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:17:45.710251+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"message_count\": 4, \"total_length\": 1320, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T17:17:45.710217+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:17:45.710224Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T17:17:45.710516+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:17:45.710482+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:17:45.710489Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T17:17:45.710875+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"message_count\": 4, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:17:45.710840+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:17:45.710846Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T17:17:45.712489+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:45.712813+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.failed exception=RuntimeError('Event loop is closed')", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:46.192474+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.370537+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE13C9590>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.370900+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020CE10DEA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.603357+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE1371350>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.604028+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.604419+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.604776+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.605261+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:57.605441+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:58.055428+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1092'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'b399c59c-eb22-4665-a764-9b1b5b347b4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9634'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd029-20250625144240'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'910e0efe-09e7-412a-8fda-619793b987ea'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 17:17:57 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:58.056540+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:58.057235+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:58.057958+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:58.058389+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:17:58.059631+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"response_time\": 12.348764657974243, \"token_usage\": {\"prompt_tokens\": 310, \"completion_tokens\": 15, \"total_tokens\": 325}, \"finish_reason\": \"stop\", \"content_length\": 55, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T17:17:58.059573+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 12.348764657974243, \"tokens_prompt_tokens\": 310, \"tokens_completion_tokens\": 15, \"tokens_total_tokens\": 325}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:17:58.059584Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T17:17:58.060223+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"message_id\": \"d661ffe7-2667-4ca5-9a34-5bf94b3a9589\", \"role\": \"assistant\", \"content_length\": 55, \"token_count\": 15, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:17:58.060176+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:17:58.060183Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:17:58.060575+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 12.350971937179565, \"success\": true, \"message_count\": 2, \"average_response_time\": 13.486512184143066, \"conversation_duration\": 62.434592723846436, \"prompt_tokens\": 310, \"completion_tokens\": 15, \"total_tokens\": 325, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T17:17:58.060524+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:58.060532Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 400}
{"timestamp": "2025-07-23T17:17:58.060840+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"user_message_length\": 44, \"assistant_response_length\": 55, \"token_usage\": {\"prompt_tokens\": 310, \"completion_tokens\": 15, \"total_tokens\": 325}, \"response_time\": 12.350971937179565, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T17:17:58.060802+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 12.350971937179565, \"tokens_prompt_tokens\": 310, \"tokens_completion_tokens\": 15, \"tokens_total_tokens\": 325}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:58.060810Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 378}
{"timestamp": "2025-07-23T17:17:58.061293+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"4852c538-1bd0-4ec8-b190-cefd958a689b\", \"event_type\": \"conversation\", \"response_time\": 12.350971937179565, \"response_length\": 55, \"token_usage\": {\"prompt_tokens\": 310, \"completion_tokens\": 15, \"total_tokens\": 325}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T17:17:58.061237+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 12.350971937179565, \"tokens_prompt_tokens\": 310, \"tokens_completion_tokens\": 15, \"tokens_total_tokens\": 325}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:17:58.061244Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T17:18:51.350926+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T17:18:51.353134+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"message_length\": 80, \"message_id\": \"c6c31af0-49ee-4ba9-9389-ca13db1669da\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T17:18:51.353046+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:18:51.353059Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T17:18:51.353596+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"message_id\": \"1b0b380b-133b-4e24-87a1-9838b6335b2e\", \"role\": \"user\", \"content_length\": 80, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:18:51.353543+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:18:51.353551Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:18:51.354007+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"message_count\": 6, \"total_length\": 1455, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T17:18:51.353960+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:18:51.353970Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T17:18:51.354458+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:18:51.354411+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:18:51.354421Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T17:18:51.354943+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"message_count\": 6, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:18:51.354900+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:18:51.354908Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T17:18:51.356822+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:51.357203+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.failed exception=RuntimeError('Event loop is closed')", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:51.830755+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.048047+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE13728B0>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.048624+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020CE10DEA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.303220+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE131D5B0>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.303911+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.304738+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.305176+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.305758+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:52.306097+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:55.291049+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'2461'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'a1148b68-f8f8-4420-832b-1f795934f00a'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9299'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd024-20250625144240'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'9557410b-eef4-4e20-9d2b-28b85e56f035'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 17:18:54 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:55.291738+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:55.292095+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:55.292606+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:55.292947+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:18:55.294244+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"response_time\": 3.9393508434295654, \"token_usage\": {\"prompt_tokens\": 347, \"completion_tokens\": 259, \"total_tokens\": 606}, \"finish_reason\": \"stop\", \"content_length\": 1411, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T17:18:55.294191+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 3.9393508434295654, \"tokens_prompt_tokens\": 347, \"tokens_completion_tokens\": 259, \"tokens_total_tokens\": 606}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:18:55.294203Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T17:18:55.294797+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"message_id\": \"b506720f-4771-4d99-aeef-c1d906faf7a0\", \"role\": \"assistant\", \"content_length\": 1411, \"token_count\": 259, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:18:55.294757+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:18:55.294765Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:18:55.295235+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 3.942166328430176, \"success\": true, \"message_count\": 3, \"average_response_time\": 10.305063565572103, \"conversation_duration\": 119.66924905776978, \"prompt_tokens\": 347, \"completion_tokens\": 259, \"total_tokens\": 606, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T17:18:55.295180+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:18:55.295188Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 400}
{"timestamp": "2025-07-23T17:18:55.295567+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"user_message_length\": 80, \"assistant_response_length\": 1411, \"token_usage\": {\"prompt_tokens\": 347, \"completion_tokens\": 259, \"total_tokens\": 606}, \"response_time\": 3.942166328430176, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T17:18:55.295515+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 3.942166328430176, \"tokens_prompt_tokens\": 347, \"tokens_completion_tokens\": 259, \"tokens_total_tokens\": 606}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:18:55.295525Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 378}
{"timestamp": "2025-07-23T17:18:55.295891+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"cfb2324a-b54d-41cf-b309-cf92fe1d1a16\", \"event_type\": \"conversation\", \"response_time\": 3.942166328430176, \"response_length\": 1411, \"token_usage\": {\"prompt_tokens\": 347, \"completion_tokens\": 259, \"total_tokens\": 606}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T17:18:55.295835+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 3.942166328430176, \"tokens_prompt_tokens\": 347, \"tokens_completion_tokens\": 259, \"tokens_total_tokens\": 606}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:18:55.295842Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T17:19:03.917545+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T17:19:03.939871+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"message_length\": 15, \"message_id\": \"a97299aa-d316-4067-938e-dff7b569797a\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T17:19:03.939812+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:19:03.939825Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T17:19:03.940356+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"message_id\": \"329ea0cd-1b0d-4cd9-8b5e-99324d84d1d6\", \"role\": \"user\", \"content_length\": 15, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:19:03.940317+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:19:03.940322Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:19:03.940603+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"message_count\": 8, \"total_length\": 2881, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T17:19:03.940566+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:19:03.940573Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T17:19:03.940894+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:19:03.940871+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:19:03.940875Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T17:19:03.941401+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"message_count\": 8, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T17:19:03.941366+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:19:03.941373Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T17:19:03.943109+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:03.943300+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.failed exception=RuntimeError('Event loop is closed')", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.424179+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.585507+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE130B680>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.586111+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020CE10DEA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.797441+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020CE130B790>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.798352+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.798715+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.798892+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.799215+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:04.799461+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:06.451335+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1376'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'8f67288b-dfe8-4e23-a4e5-1d097cc23ce6'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'8907'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd024-20250625144240'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'e1cd729c-9ed7-46d7-999e-584045fb8d74'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 17:19:05 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:06.452367+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:06.453358+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:06.454137+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:06.454441+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T17:19:06.455989+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"response_time\": 2.5146210193634033, \"token_usage\": {\"prompt_tokens\": 618, \"completion_tokens\": 82, \"total_tokens\": 700}, \"finish_reason\": \"stop\", \"content_length\": 337, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T17:19:06.455934+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 2.5146210193634033, \"tokens_prompt_tokens\": 618, \"tokens_completion_tokens\": 82, \"tokens_total_tokens\": 700}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:19:06.455945Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T17:19:06.456556+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"message_id\": \"0bc895c5-15bd-4ad0-a2ee-947f07c358a9\", \"role\": \"assistant\", \"content_length\": 337, \"token_count\": 82, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:19:06.456513+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:19:06.456521Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:19:06.456984+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 2.5171408653259277, \"success\": true, \"message_count\": 4, \"average_response_time\": 8.358082890510559, \"conversation_duration\": 130.8309998512268, \"prompt_tokens\": 618, \"completion_tokens\": 82, \"total_tokens\": 700, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T17:19:06.456931+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:19:06.456940Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 400}
{"timestamp": "2025-07-23T17:19:06.457418+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"user_message_length\": 15, \"assistant_response_length\": 337, \"token_usage\": {\"prompt_tokens\": 618, \"completion_tokens\": 82, \"total_tokens\": 700}, \"response_time\": 2.5171408653259277, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T17:19:06.457352+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 2.5171408653259277, \"tokens_prompt_tokens\": 618, \"tokens_completion_tokens\": 82, \"tokens_total_tokens\": 700}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:19:06.457362Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 378}
{"timestamp": "2025-07-23T17:19:06.458133+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3a7ff41b-debf-4b25-8d6f-1129bd51272a\", \"event_type\": \"conversation\", \"response_time\": 2.5171408653259277, \"response_length\": 337, \"token_usage\": {\"prompt_tokens\": 618, \"completion_tokens\": 82, \"total_tokens\": 700}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T17:19:06.458090+00:00\", \"customDimensions\": {\"conversation_id\": \"a4804f4b-5885-495e-b6c3-a0b0f44a04bc\"}, \"customMeasurements\": {\"response_time\": 2.5171408653259277, \"tokens_prompt_tokens\": 618, \"tokens_completion_tokens\": 82, \"tokens_total_tokens\": 700}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:19:06.458096Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T17:29:51.641195+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T17:29:51.641104+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T17:29:51.641121Z\"}", "module": "logging_service", "function": "setup_logging", "line": 296}
{"timestamp": "2025-07-23T17:29:52.128181+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T17:29:52.128124+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:29:52.128137Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T17:29:52.128577+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T17:29:52.128513+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T17:29:52.128522Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T17:29:52.128923+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T17:29:52.128889+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:29:52.128895Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T17:29:52.129218+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T17:29:52.129179+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:29:52.129186Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T17:29:52.129413+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"dca32a68-a34a-44f6-8234-ce61b793c614\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T17:29:52.129379+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T17:29:52.129385Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T17:29:52.129731+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T17:29:52.129696+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T17:29:52.129703Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T18:26:16.246752+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T18:26:16.247891+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"message_length\": 35, \"message_id\": \"48c1539f-fdc3-4589-9657-96eb8d4b6a0e\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T18:26:16.247829+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:26:16.247843Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T18:26:16.248435+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"message_id\": \"278c05dd-4986-4cd6-adba-0b9402ffd05b\", \"role\": \"user\", \"content_length\": 35, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T18:26:16.248395+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T18:26:16.248400Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T18:26:16.248816+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"message_count\": 2, \"total_length\": 111, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T18:26:16.248780+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T18:26:16.248786Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T18:26:16.249095+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T18:26:16.249061+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T18:26:16.249068Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T18:26:16.249565+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T18:26:16.249529+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T18:26:16.249536Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T18:26:16.258320+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.434478+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001931EA86900>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.435147+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x000001931E7EAA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.675543+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001931E9AEC10>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.675944+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.676349+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.676674+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.677068+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:27.677242+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:29.041841+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1182'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'6c822a60-f9d4-451a-b1d4-9ac1aba0c83a'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9971'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd020-20250625150819'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'2c3957a6-02fa-4cd9-acd6-66a4561f5289'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 18:26:28 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:29.042637+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:29.042897+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:29.043374+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:29.043559+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:26:29.048203+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"response_time\": 12.798639297485352, \"token_usage\": {\"prompt_tokens\": 33, \"completion_tokens\": 75, \"total_tokens\": 108}, \"finish_reason\": \"stop\", \"content_length\": 332, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T18:26:29.048149+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"customMeasurements\": {\"response_time\": 12.798639297485352, \"tokens_prompt_tokens\": 33, \"tokens_completion_tokens\": 75, \"tokens_total_tokens\": 108}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T18:26:29.048162Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T18:26:29.048543+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"message_id\": \"cd922f83-714b-4683-aff0-d60bbe85c58c\", \"role\": \"assistant\", \"content_length\": 332, \"token_count\": 75, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T18:26:29.048515+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T18:26:29.048520Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T18:26:29.048922+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 12.801114559173584, \"success\": true, \"message_count\": 1, \"average_response_time\": 12.801114559173584, \"conversation_duration\": 3396.919154882431, \"prompt_tokens\": 33, \"completion_tokens\": 75, \"total_tokens\": 108, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T18:26:29.048882+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:26:29.048890Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 400}
{"timestamp": "2025-07-23T18:26:29.049187+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"event_type\": \"conversation\", \"user_message_length\": 35, \"assistant_response_length\": 332, \"token_usage\": {\"prompt_tokens\": 33, \"completion_tokens\": 75, \"total_tokens\": 108}, \"response_time\": 12.801114559173584, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T18:26:29.049140+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"customMeasurements\": {\"response_time\": 12.801114559173584, \"tokens_prompt_tokens\": 33, \"tokens_completion_tokens\": 75, \"tokens_total_tokens\": 108}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:26:29.049149Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 378}
{"timestamp": "2025-07-23T18:26:29.049407+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"26331de3-e590-46a2-ac95-72ee0234f352\", \"event_type\": \"conversation\", \"response_time\": 12.801114559173584, \"response_length\": 332, \"token_usage\": {\"prompt_tokens\": 33, \"completion_tokens\": 75, \"total_tokens\": 108}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T18:26:29.049375+00:00\", \"customDimensions\": {\"conversation_id\": \"6457cb74-77b8-48c1-9d54-41ba7179460b\"}, \"customMeasurements\": {\"response_time\": 12.801114559173584, \"tokens_prompt_tokens\": 33, \"tokens_completion_tokens\": 75, \"tokens_total_tokens\": 108}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:26:29.049380Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T18:36:14.932865+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T18:36:14.932811+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:36:14.932821Z\"}", "module": "logging_service", "function": "setup_logging", "line": 296}
{"timestamp": "2025-07-23T18:36:15.410286+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T18:36:15.410223+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T18:36:15.410236Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T18:36:15.410739+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T18:36:15.410694+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T18:36:15.410703Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T18:36:15.410984+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T18:36:15.410954+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T18:36:15.410959Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T18:36:15.411257+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T18:36:15.411232+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T18:36:15.411236Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T18:36:15.411585+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"f97a83aa-47ed-4dbd-860a-7c4a8cc01d35\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T18:36:15.411550+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T18:36:15.411556Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T18:36:15.411736+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T18:36:15.411706+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T18:36:15.411710Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T18:38:47.547433+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T18:38:47.548625+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"message_length\": 75, \"message_id\": \"924989a6-3660-4023-a1f7-ab53538fff59\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T18:38:47.548575+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:38:47.548586Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T18:38:47.549027+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"message_id\": \"bab615ac-7506-4c7f-bcab-73548dd2ed7c\", \"role\": \"user\", \"content_length\": 75, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T18:38:47.548993+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T18:38:47.548998Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T18:38:47.549415+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"message_count\": 2, \"total_length\": 151, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T18:38:47.549378+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T18:38:47.549386Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T18:38:47.549860+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T18:38:47.549826+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T18:38:47.549833Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T18:38:47.550171+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T18:38:47.550137+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T18:38:47.550143Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T18:38:47.557720+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:58.814877+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002869757EA50>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:58.815411+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x00000286972EEA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:59.062002+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000286974AE210>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:59.062637+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:59.063182+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:59.063432+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:59.063831+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:38:59.064046+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:39:04.082865+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'2699'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'33a2d164-4693-4ffb-90e0-c0a61104cfc2'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9961'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd024-20250625144240'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'9a3544b7-a715-4fda-bdad-eb46b755466f'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 18:39:03 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:39:04.083694+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:39:04.083945+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:39:04.084180+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:39:04.084420+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T18:39:04.088534+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"response_time\": 16.538378715515137, \"token_usage\": {\"prompt_tokens\": 38, \"completion_tokens\": 317, \"total_tokens\": 355}, \"finish_reason\": \"stop\", \"content_length\": 1637, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T18:39:04.088487+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"customMeasurements\": {\"response_time\": 16.538378715515137, \"tokens_prompt_tokens\": 38, \"tokens_completion_tokens\": 317, \"tokens_total_tokens\": 355}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T18:39:04.088497Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T18:39:04.089111+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"message_id\": \"75491be9-d809-409c-8c21-4de0a420c70b\", \"role\": \"assistant\", \"content_length\": 1637, \"token_count\": 317, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T18:39:04.088944+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T18:39:04.088950Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T18:39:04.089413+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 16.540843963623047, \"success\": true, \"message_count\": 1, \"average_response_time\": 16.540843963623047, \"conversation_duration\": 168.67763924598694, \"prompt_tokens\": 38, \"completion_tokens\": 317, \"total_tokens\": 355, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T18:39:04.089371+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:39:04.089378Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 400}
{"timestamp": "2025-07-23T18:39:04.089609+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"event_type\": \"conversation\", \"user_message_length\": 75, \"assistant_response_length\": 1637, \"token_usage\": {\"prompt_tokens\": 38, \"completion_tokens\": 317, \"total_tokens\": 355}, \"response_time\": 16.540843963623047, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T18:39:04.089577+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"customMeasurements\": {\"response_time\": 16.540843963623047, \"tokens_prompt_tokens\": 38, \"tokens_completion_tokens\": 317, \"tokens_total_tokens\": 355}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:39:04.089583Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 378}
{"timestamp": "2025-07-23T18:39:04.090268+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"81eb39da-73cf-48e8-8cc4-b3396c8ac983\", \"event_type\": \"conversation\", \"response_time\": 16.540843963623047, \"response_length\": 1637, \"token_usage\": {\"prompt_tokens\": 38, \"completion_tokens\": 317, \"total_tokens\": 355}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T18:39:04.090225+00:00\", \"customDimensions\": {\"conversation_id\": \"eef2ad94-ee19-41ff-b1d1-33b8d2c66afd\"}, \"customMeasurements\": {\"response_time\": 16.540843963623047, \"tokens_prompt_tokens\": 38, \"tokens_completion_tokens\": 317, \"tokens_total_tokens\": 355}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T18:39:04.090231Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T19:34:37.017894+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T19:34:37.017830+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:34:37.017843Z\"}", "module": "logging_service", "function": "setup_logging", "line": 304}
{"timestamp": "2025-07-23T19:34:37.020109+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T19:34:37.020067+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:34:37.020076Z\"}", "module": "logging_service", "function": "setup_logging", "line": 304}
{"timestamp": "2025-07-23T19:34:37.606929+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T19:34:37.606864+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:34:37.606880Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T19:34:37.607090+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T19:34:37.607063+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:34:37.607068Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T19:34:37.607317+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T19:34:37.607288+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:34:37.607293Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T19:34:37.607445+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T19:34:37.607414+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:34:37.607418Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T19:34:37.607582+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"55b9c886-8780-43ae-b2d8-593408259cf6\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T19:34:37.607557+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:34:37.607560Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T19:34:37.607666+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T19:34:37.607645+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:34:37.607649Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T19:35:01.903431+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T19:35:01.904311+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"message_length\": 42, \"message_id\": \"ad3c05ef-0e98-44a9-a176-f521d8d1d268\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T19:35:01.904259+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:01.904269Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T19:35:01.904491+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"message_id\": \"6d0263a9-0998-41e3-8204-b12c0c97525c\", \"role\": \"user\", \"content_length\": 42, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T19:35:01.904465+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:35:01.904468Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T19:35:01.904610+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"message_count\": 2, \"total_length\": 118, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T19:35:01.904586+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:35:01.904590Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T19:35:01.904695+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T19:35:01.904675+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:35:01.904678Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T19:35:01.904869+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"message_count\": 2, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T19:35:01.904841+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:35:01.904844Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T19:35:01.953971+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.066990+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DF80D7E660>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.067242+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DF80ACAA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.178531+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DF80902FD0>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.178884+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.179188+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.179260+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.179415+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.179463+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.480809+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1078'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'9fd72382-e1d5-45fb-9f91-61c001d74983'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9969'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd022-20250625134047'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'694105cd-e2bb-4ce1-b852-b95aaabf8e78'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 19:35:02 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.481757+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.482038+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.482322+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.482520+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:02.488621+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"response_time\": 0.583747386932373, \"token_usage\": {\"prompt_tokens\": 33, \"completion_tokens\": 9, \"total_tokens\": 42}, \"finish_reason\": \"stop\", \"content_length\": 44, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T19:35:02.488573+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"customMeasurements\": {\"response_time\": 0.583747386932373, \"tokens_prompt_tokens\": 33, \"tokens_completion_tokens\": 9, \"tokens_total_tokens\": 42}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:35:02.488584Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T19:35:02.488847+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"message_id\": \"ee8e5d5a-e899-4008-a424-abdf7443fdc2\", \"role\": \"assistant\", \"content_length\": 44, \"token_count\": 9, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T19:35:02.488816+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:35:02.488821Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T19:35:02.488958+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 0.5847034454345703, \"success\": true, \"message_count\": 1, \"average_response_time\": 0.5847034454345703, \"conversation_duration\": 24.881263732910156, \"prompt_tokens\": 33, \"completion_tokens\": 9, \"total_tokens\": 42, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T19:35:02.488931+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:02.488934Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 408}
{"timestamp": "2025-07-23T19:35:02.489047+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"event_type\": \"conversation\", \"user_message_length\": 42, \"assistant_response_length\": 44, \"token_usage\": {\"prompt_tokens\": 33, \"completion_tokens\": 9, \"total_tokens\": 42}, \"response_time\": 0.5847034454345703, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T19:35:02.489023+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"customMeasurements\": {\"response_time\": 0.5847034454345703, \"tokens_prompt_tokens\": 33, \"tokens_completion_tokens\": 9, \"tokens_total_tokens\": 42}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:02.489027Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 386}
{"timestamp": "2025-07-23T19:35:02.489153+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"3ebbf873-f7ff-4423-b51d-e13a3acfa163\", \"event_type\": \"conversation\", \"response_time\": 0.5847034454345703, \"response_length\": 44, \"token_usage\": {\"prompt_tokens\": 33, \"completion_tokens\": 9, \"total_tokens\": 42}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T19:35:02.489130+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"customMeasurements\": {\"response_time\": 0.5847034454345703, \"tokens_prompt_tokens\": 33, \"tokens_completion_tokens\": 9, \"tokens_total_tokens\": 42}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:02.489134Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T19:35:06.965027+00:00", "level": "DEBUG", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631}
{"timestamp": "2025-07-23T19:35:06.965624+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"message_length\": 8, \"message_id\": \"3a61760e-a95a-4129-a5fb-1b1ec088cbcb\", \"event\": \"Processing user message\", \"@timestamp\": \"2025-07-23T19:35:06.965579+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:06.965589Z\"}", "module": "agent", "function": "process_message_async", "line": 172}
{"timestamp": "2025-07-23T19:35:06.965781+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"message_id\": \"3ac737c9-7d62-4086-976f-e06ff90b725c\", \"role\": \"user\", \"content_length\": 8, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T19:35:06.965755+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:35:06.965758Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T19:35:06.965877+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"message_count\": 4, \"total_length\": 170, \"event\": \"Prepared messages for API\", \"@timestamp\": \"2025-07-23T19:35:06.965855+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:35:06.965859Z\"}", "module": "agent", "function": "_prepare_messages_for_api", "line": 408}
{"timestamp": "2025-07-23T19:35:06.965974+00:00", "level": "DEBUG", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"attempt\": 1, \"max_retries\": 4, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T19:35:06.965952+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:35:06.965956Z\"}", "module": "agent", "function": "_generate_response_with_retry", "line": 427}
{"timestamp": "2025-07-23T19:35:06.966146+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"message_count\": 4, \"model\": \"gpt-4-deployment\", \"temperature\": 0.7, \"max_tokens\": 1000, \"event\": \"Generating response\", \"@timestamp\": \"2025-07-23T19:35:06.966120+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:35:06.966124Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 170}
{"timestamp": "2025-07-23T19:35:06.967450+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:06.967775+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.failed exception=AttributeError(\"'NoneType' object has no attribute 'send'\")", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:06.967919+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:06.968098+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.failed exception=RuntimeError('Event loop is closed')", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:07.448141+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='aoai-chatbotdev4e4334a6.openai.azure.com' port=443 local_address=None timeout=30.0 socket_options=None", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.087324+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DF80DF2710>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.087523+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DF80ACAA80> server_hostname='aoai-chatbotdev4e4334a6.openai.azure.com' timeout=30.0", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.201896+00:00", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DF80D5A190>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.202176+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.202392+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.202451+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.202574+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.202617+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.497401+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1095'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'5eae0343-2010-48f9-9d9b-82befbed7611'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'East US'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-ratelimit-limit-requests', b'10'), (b'x-ratelimit-remaining-tokens', b'9923'), (b'x-ratelimit-limit-tokens', b'10000'), (b'azureml-model-session', b'd031-20250625154533'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'382aeab4-2168-4223-848d-770b097a312a'), (b'x-ms-deployment-name', b'gpt-4-deployment'), (b'Date', b'Wed, 23 Jul 2025 19:35:12 GMT')])", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.497720+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.497813+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.497889+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.497959+00:00", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "line": 87}
{"timestamp": "2025-07-23T19:35:13.498889+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"response_time\": 6.532743453979492, \"token_usage\": {\"prompt_tokens\": 51, \"completion_tokens\": 16, \"total_tokens\": 67}, \"finish_reason\": \"stop\", \"content_length\": 60, \"event\": \"Response generated successfully\", \"@timestamp\": \"2025-07-23T19:35:13.498834+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"customMeasurements\": {\"response_time\": 6.532743453979492, \"tokens_prompt_tokens\": 51, \"tokens_completion_tokens\": 16, \"tokens_total_tokens\": 67}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:35:13.498843Z\"}", "module": "azure_client", "function": "generate_response_async", "line": 210}
{"timestamp": "2025-07-23T19:35:13.499096+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"message_id\": \"fd13a479-d479-40b8-80bb-ed2813102303\", \"role\": \"assistant\", \"content_length\": 60, \"token_count\": 16, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T19:35:13.499066+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:35:13.499070Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T19:35:13.499204+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"performance\", \"operation\": \"message_processing\", \"duration\": 6.533631324768066, \"success\": true, \"message_count\": 2, \"average_response_time\": 3.5591673851013184, \"conversation_duration\": 35.89151334762573, \"prompt_tokens\": 51, \"completion_tokens\": 16, \"total_tokens\": 67, \"event\": \"Performance metric\", \"@timestamp\": \"2025-07-23T19:35:13.499180+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:13.499183Z\"}", "module": "logging_service", "function": "log_performance_metrics", "line": 408}
{"timestamp": "2025-07-23T19:35:13.499296+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"user_message_length\": 8, \"assistant_response_length\": 60, \"token_usage\": {\"prompt_tokens\": 51, \"completion_tokens\": 16, \"total_tokens\": 67}, \"response_time\": 6.533631324768066, \"event\": \"response_generated\", \"@timestamp\": \"2025-07-23T19:35:13.499268+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"customMeasurements\": {\"response_time\": 6.533631324768066, \"tokens_prompt_tokens\": 51, \"tokens_completion_tokens\": 16, \"tokens_total_tokens\": 67}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:13.499272Z\"}", "module": "logging_service", "function": "log_conversation_event", "line": 386}
{"timestamp": "2025-07-23T19:35:13.499383+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"user_id\": null, \"session_id\": \"7a8222b0-dc4c-4141-94e6-904747b135b3\", \"event_type\": \"conversation\", \"response_time\": 6.533631324768066, \"response_length\": 60, \"token_usage\": {\"prompt_tokens\": 51, \"completion_tokens\": 16, \"total_tokens\": 67}, \"event\": \"Message processed successfully\", \"@timestamp\": \"2025-07-23T19:35:13.499356+00:00\", \"customDimensions\": {\"conversation_id\": \"3dd32c0b-cd20-4aad-b812-5645fb449356\"}, \"customMeasurements\": {\"response_time\": 6.533631324768066, \"tokens_prompt_tokens\": 51, \"tokens_completion_tokens\": 16, \"tokens_total_tokens\": 67}, \"level\": \"info\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:13.499359Z\"}", "module": "agent", "function": "process_message_async", "line": 251}
{"timestamp": "2025-07-23T19:35:38.305724+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T19:35:38.305630+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:38.305648Z\"}", "module": "logging_service", "function": "setup_logging", "line": 304}
{"timestamp": "2025-07-23T19:35:38.309300+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T19:35:38.309234+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T19:35:38.309247Z\"}", "module": "logging_service", "function": "setup_logging", "line": 304}
{"timestamp": "2025-07-23T19:35:38.772059+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T19:35:38.772002+00:00\", \"customDimensions\": {\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:35:38.772015Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T19:35:38.772193+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T19:35:38.772169+00:00\", \"customDimensions\": {\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T19:35:38.772173Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T19:35:38.772332+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T19:35:38.772307+00:00\", \"customDimensions\": {\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:35:38.772310Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T19:35:38.772422+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T19:35:38.772400+00:00\", \"customDimensions\": {\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:35:38.772403Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T19:35:38.772538+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"10c98c49-25d2-4bfc-8793-71902defac6b\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T19:35:38.772515+00:00\", \"customDimensions\": {\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T19:35:38.772518Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T19:35:38.772713+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T19:35:38.772689+00:00\", \"customDimensions\": {\"conversation_id\": \"72e99488-8ed6-4781-935f-a3a645dbabc7\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T19:35:38.772693Z\"}", "module": "agent", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T20:23:11.982851+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T20:23:11.982796+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T20:23:11.982807Z\"}", "module": "logging_service", "function": "setup_logging", "line": 304}
{"timestamp": "2025-07-23T20:23:11.984767+00:00", "level": "INFO", "logger": "services.logging_service", "message": "{\"level\": \"info\", \"format\": \"json\", \"file_path\": \"logs/chatbot.log\", \"handlers\": 3, \"application_insights_enabled\": true, \"event\": \"Logging configured\", \"@timestamp\": \"2025-07-23T20:23:11.984726+00:00\", \"logger\": \"services.logging_service\", \"timestamp\": \"2025-07-23T20:23:11.984734Z\"}", "module": "logging_service", "function": "setup_logging", "line": 304}
{"timestamp": "2025-07-23T20:23:12.474491+00:00", "level": "DEBUG", "logger": "services.azure_client", "message": "{\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"event\": \"LangChain Azure OpenAI client created successfully\", \"@timestamp\": \"2025-07-23T20:23:12.474167+00:00\", \"customDimensions\": {\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\"}, \"level\": \"debug\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T20:23:12.474448Z\"}", "module": "azure_client", "function": "_create_langchain_client", "line": 128}
{"timestamp": "2025-07-23T20:23:12.475005+00:00", "level": "INFO", "logger": "services.azure_client", "message": "{\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"endpoint\": \"https://aoai-chatbotdev4e4334a6.openai.azure.com/\", \"api_version\": \"2024-05-01-preview\", \"event\": \"Azure OpenAI client initialized\", \"@timestamp\": \"2025-07-23T20:23:12.474965+00:00\", \"customDimensions\": {\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\"}, \"level\": \"info\", \"logger\": \"services.azure_client\", \"timestamp\": \"2025-07-23T20:23:12.474973Z\"}", "module": "azure_client", "function": "__init__", "line": 103}
{"timestamp": "2025-07-23T20:23:12.475269+00:00", "level": "INFO", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"max_turns\": 10, \"event\": \"Conversation manager initialized\", \"@timestamp\": \"2025-07-23T20:23:12.475237+00:00\", \"customDimensions\": {\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\"}, \"level\": \"info\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T20:23:12.475241Z\"}", "module": "conversation", "function": "__init__", "line": 152}
{"timestamp": "2025-07-23T20:23:12.475418+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"event\": \"Chatbot agent initialized successfully\", \"@timestamp\": \"2025-07-23T20:23:12.475390+00:00\", \"customDimensions\": {\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T20:23:12.475394Z\"}", "module": "agent", "function": "__init__", "line": 81}
{"timestamp": "2025-07-23T20:23:12.475672+00:00", "level": "DEBUG", "logger": "chatbot.conversation", "message": "{\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"message_id\": \"61a51316-e729-48e8-a911-176d5d8dba35\", \"role\": \"system\", \"content_length\": 76, \"token_count\": null, \"event\": \"Message added to conversation\", \"@timestamp\": \"2025-07-23T20:23:12.475638+00:00\", \"customDimensions\": {\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\"}, \"level\": \"debug\", \"logger\": \"chatbot.conversation\", \"timestamp\": \"2025-07-23T20:23:12.475648Z\"}", "module": "conversation", "function": "add_message", "line": 261}
{"timestamp": "2025-07-23T20:23:12.475759+00:00", "level": "INFO", "logger": "chatbot.agent", "message": "{\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\", \"component\": \"azure_openai_client\", \"deployment\": \"gpt-4-deployment\", \"memory_type\": \"buffer_window\", \"prompt_type\": \"default\", \"system_prompt_length\": 76, \"event\": \"Chatbot agent ready\", \"@timestamp\": \"2025-07-23T20:23:12.475740+00:00\", \"customDimensions\": {\"conversation_id\": \"98064648-4961-40fd-a702-5c7cd02cfa16\"}, \"level\": \"info\", \"logger\": \"chatbot.agent\", \"timestamp\": \"2025-07-23T20:23:12.475743Z\"}", "module": "agent", "function": "__init__", "line": 103}
